<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/styles/style.css">
    <title>Registro</title>
</head>
<body>
    <h1>Registro</h1>
    <form action="\validar_registro" method="post">
        <label for="username">Nombre de usuario</label>
        <input type="text" name="username" id="username" required>
        <p>
        <label for="email">Correo</label>
        <input type="email" name="email" id="email" required>
        <p>
        <label for="contra">Contrase単a</label>
        <input type="password" name="pass_user" id="pass_user" required>
        <p>
        <label for="concontra">Confirmar Contrase単a</label>
        <input type="password" name="copass_user" id="copass_user" required onkeyup=checkPasswords()>
        <p id="passwordMatch" ></p>
        <button type="submit" disabled>Registrar</button>

        <script>
            function checkPasswords() {
                const password = document.getElementById('pass_user').value;
                const confirmPassword = document.getElementById('copass_user').value;
                const passwordMatch = document.getElementById('passwordMatch');

                if (password === confirmPassword) {
                    passwordMatch.textContent = 'Contrase単as coinciden';
                    passwordMatch.style.color = 'green';
                    document.querySelector('button[type="submit"]').disabled = false; // Enable submit button
                }else if(password === '' || confirmPassword === ''){
                    passwordMatch.textContent = '';
                    document.querySelector('button[type="submit"]').disabled = true; // Disable submit button
                }
                else if(password != confirmPassword){
                    passwordMatch.textContent = 'Las contrase単as no coinciden';
                    passwordMatch.style.color = 'red';
                    document.querySelector('button[type="submit"]').disabled = true; // Disable submit button        
                }
            }
        </script>

    </form>
</body>
</html>